import{j as h,u as f,d as v,r as p,k as _,l as m,c as a,a as e,b as c,e as g,i as y,m as k,h as i,t as d,n as b,T as w,F as V,p as x,o as l,_ as S}from"./index-J63YPNVv.js";const U="https://home.sunnytseng.com/api/math-api/fetchUrl/",A=h("url",{state:()=>({videos:[],loading:!1}),getters:{hasVideos:u=>u.videos.length>0},actions:{async fetchUrl(u){const s=f();this.loading=!0;try{const t=await fetch(`${U}?grade=${u}`,{method:"GET",headers:{Authorization:`Bearer ${s.token??""}`,"Content-Type":"application/json"}});if(!t.ok)throw new Error("Fetch Failed");const n=await t.json();this.videos=Array.isArray(n.videos)?n.videos:[]}catch(t){console.error("Error fetching URL:",t),this.videos=[]}finally{this.loading=!1}}}}),j={class:"video-selector container-fluid mt-4"},B={class:"mb-3"},C={key:0,class:"text-muted"},E={key:1,class:"text-info"},F={key:0},M={key:0,class:"list-group list-group-numbered"},T={class:"ms-2 me-auto"},L={class:"fw-bold"},N=["href"],$={class:"badge bg-primary rounded-pill"},D={key:1,class:"text-danger mt-3"},I={key:2,class:"text-danger mt-3"},R=v({__name:"VideoView",setup(u){const s=A(),t=p(null);return _(t,n=>{n!==null&&s.fetchUrl(n)}),m(()=>{t.value!==null&&s.fetchUrl(t.value)}),(n,o)=>(l(),a("div",null,[e("div",j,[o[3]||(o[3]=e("h2",null,"ğŸ“º å„å¹´ç´šå½±ç‰‡åˆ—è¡¨",-1)),e("div",B,[o[2]||(o[2]=e("label",{for:"gradeSelect",class:"form-label"},"ğŸ“ é¸æ“‡å¹´ç´š",-1)),y(e("select",{id:"gradeSelect",class:"form-select","onUpdate:modelValue":o[0]||(o[0]=r=>t.value=r)},o[1]||(o[1]=[e("option",{disabled:"",value:""},"è«‹é¸æ“‡å¹´ç´š",-1),e("option",{value:3},"ä¸‰å¹´ç´š",-1),e("option",{value:4},"å››å¹´ç´š",-1),e("option",{value:5},"äº”å¹´ç´š",-1),e("option",{value:6},"å…­å¹´ç´š",-1)]),512),[[k,t.value]])]),t.value===null?(l(),a("div",C," è«‹å¾ä¸Šæ–¹é¸æ“‡ä¸€å€‹å¹´ç´šä¾†é¡¯ç¤ºå½±ç‰‡ã€‚ ")):i(s).loading?(l(),a("div",E," ğŸ”„ æ­£åœ¨è¼‰å…¥ "+d(t.value)+" å¹´ç´šçš„å½±ç‰‡è³‡æ–™... ",1)):c("",!0),g(w,{name:"fade"},{default:b(()=>[!i(s).loading&&t.value!==null?(l(),a("div",F,[i(s).hasVideos?(l(),a("ol",M,[(l(!0),a(V,null,x(i(s).videos,r=>(l(),a("li",{key:r.url,class:"list-group-item d-flex justify-content-between align-items-start"},[e("div",T,[e("div",L,d(r.title),1),e("a",{href:r.url,target:"_blank"},d(r.url),9,N)]),e("span",$,d(r.grade)+" å¹´ç´š ",1)]))),128))])):(l(),a("div",D," â— æŸ¥ç„¡ "+d(t.value)+" å¹´ç´šçš„å½±ç‰‡è³‡æ–™ã€‚ ",1)),i(s).errorMessage?(l(),a("div",I,d(i(s).errorMessage),1)):c("",!0)])):c("",!0)]),_:1})]),o[4]||(o[4]=e("div",{class:"video-placeholder d-none d-lg-block"},null,-1))]))}}),G=S(R,[["__scopeId","data-v-de169ee9"]]);export{G as default};
