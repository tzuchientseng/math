import{j as h,u as m,d as p,r as f,k as _,l as g,c as l,a as e,b as v,e as b,i as y,m as w,h as i,t as d,n as k,T as x,F as V,p as S,o as a,_ as U}from"./index-DXTO70xG.js";const A="https://home.sunnytseng.com/api/math-api/fetchUrl/",E=h("url",{state:()=>({videos:[],loading:!1}),getters:{hasVideos:c=>c.videos.length>0},actions:{async fetchUrl(c){const o=m();this.loading=!0;try{const s=await fetch(`${A}?grade=${c}`,{method:"GET",headers:{Authorization:`Bearer ${o.token??""}`,"Content-Type":"application/json"}});if(!s.ok)throw new Error("Fetch Failed");const u=await s.json();this.videos=Array.isArray(u.videos)?u.videos:[]}catch(s){console.error("Error fetching URL:",s),this.videos=[]}finally{this.loading=!1}}}}),I={class:"video-selector container-fluid mt-4"},M={class:"mb-3"},B={key:0,class:"text-muted"},C={key:1,class:"text-info"},F={key:0},T={key:0,class:"list-group list-group-numbered"},$={class:"text-end"},j={class:"badge bg-primary rounded-pill"},L={class:"video-content"},N={class:"fw-bold text-center"},z={class:"video-preview"},D=["src"],R={key:1,class:"text-danger mt-3"},G={key:2,class:"text-danger mt-3"},P=p({__name:"VideoView",setup(c){const o=E(),s=f(null);_(s,n=>{n!==null&&o.fetchUrl(n)}),g(()=>{s.value!==null&&o.fetchUrl(s.value)});function u(n){const t=n.match(/(?:v=|youtu\.be\/)([a-zA-Z0-9_-]{11})/);return`https://www.youtube.com/embed/${t?t[1]:""}`}return(n,t)=>(a(),l("div",null,[e("div",I,[t[5]||(t[5]=e("h2",null,"üì∫ ÂêÑÂπ¥Á¥öÂΩ±ÁâáÂàóË°®",-1)),e("div",M,[t[2]||(t[2]=e("label",{for:"gradeSelect",class:"form-label"},"üéì ÈÅ∏ÊìáÂπ¥Á¥ö",-1)),y(e("select",{id:"gradeSelect",class:"form-select","onUpdate:modelValue":t[0]||(t[0]=r=>s.value=r)},t[1]||(t[1]=[e("option",{disabled:"",value:""},"Ë´ãÈÅ∏ÊìáÂπ¥Á¥ö",-1),e("option",{value:3},"‰∏âÂπ¥Á¥ö",-1),e("option",{value:4},"ÂõõÂπ¥Á¥ö",-1),e("option",{value:5},"‰∫îÂπ¥Á¥ö",-1),e("option",{value:6},"ÂÖ≠Âπ¥Á¥ö",-1)]),512),[[w,s.value]])]),s.value===null?(a(),l("div",B," Ë´ãÂæû‰∏äÊñπÈÅ∏Êìá‰∏ÄÂÄãÂπ¥Á¥ö‰æÜÈ°ØÁ§∫ÂΩ±Áâá„ÄÇ ")):i(o).loading?(a(),l("div",C," üîÑ Ê≠£Âú®ËºâÂÖ• "+d(s.value)+" Âπ¥Á¥öÁöÑÂΩ±ÁâáË≥áÊñô... ",1)):v("",!0),b(x,{name:"fade"},{default:k(()=>[!i(o).loading&&s.value!==null?(a(),l("div",F,[i(o).hasVideos?(a(),l("ol",T,[(a(!0),l(V,null,S(i(o).videos,r=>(a(),l("li",{key:r.url,class:"list-group-item"},[e("div",$,[e("span",j,d(r.grade)+" Âπ¥Á¥ö ",1)]),e("div",L,[e("div",N,d(r.title),1),e("div",z,[e("iframe",{src:u(r.url),frameborder:"0",allowfullscreen:""},null,8,D)]),t[3]||(t[3]=e("div",{class:"text-center"},null,-1)),t[4]||(t[4]=e("hr",{class:"w-75 mx-auto my-4 border border-dark border-2 opacity-50"},null,-1))])]))),128))])):(a(),l("div",R," ‚ùó Êü•ÁÑ° "+d(s.value)+" Âπ¥Á¥öÁöÑÂΩ±ÁâáË≥áÊñô„ÄÇ ",1)),i(o).errorMessage?(a(),l("div",G,d(i(o).errorMessage),1)):v("",!0)])):v("",!0)]),_:1})]),t[6]||(t[6]=e("div",{class:"video-placeholder d-none d-lg-block"},null,-1))]))}}),q=U(P,[["__scopeId","data-v-bfb43d2e"]]);export{q as default};
